# Angulectron
This is my base application template for Angular 18, Electron 32, and Angular/material
## Development
```bash
npm start
```

## Code scaffolding
Run `ng g c component-name` to generate a new component. You can also use `ng generate directive|pipe|service|class|guard|interface|enum|module`.

## Build
Run any of the following to create electron apps packaged for the target platform
```bash
npm run package:win
npm run package:linux
npm run package:osx
npm run package:all
```
The build artifacts will be stored in the `packages/` directory.

### how this app was created
What I had installed on my machine
```bash
$ npm -v
10.8.1
$ node --version
v22.4.1
$ npm -g ls
C:\Users\user\AppData\Roaming\npm
├── @angular/cli@18.2.2
├── electron@32.0.1
└── yarn@1.22.22
```
#### Setup steps
https://pkief.medium.com/angular-desktop-apps-a9ce9e3574e8 as loose reference
Create initial angular app and set up @angular/material
```bash
ng new angulectron
cd angulectron
ng add @angular/material
: ' chosen options:
   ❯ Cyan/Orange        [Preview: https://material.angular.io?theme=cyan-orange]
   ? Set up global Angular Material typography styles? (y/N) y
   ❯ Include and enable animations
'
npm install electron --save-dev
```
create ./src/electron.dev.js
create ./src/electron.prod.js
```bash
npm install concurrently --save-dev
```
add to package.json -> scripts:
```json
"electron": "electron ./src/electron.dev",
```
and change package.json -> scripts -> start from "ng serve" to 
```json
"start": "concurrently \"ng serve\" \"npm run electron\"",
```
At this point the application will run via "npm run start, and hot reload, but will not be packagable/deployable.  
The following steps allow the app to be packaged
In the default ./src/index.html file generated by the angular cli:
```html
<!-- original line -->
<base href="/">
<!-- new line -->
<base href="./">
```
Create  ./src/package.json file
Modify angular.json to include the electron related files when it builds
```json
"assets": [
  ...
  "src/package.json",
  "src/electron.prod.js"
],
```
install packages for application packaging
```bash
npm install electron-packager cross-var --save-dev

add to package.json -> scripts:
```json
"package:win": "npm run build && cross-var electron-packager dist/angulectron $npm_package_name-$npm_package_version --out=packages --platform=win32 --arch=all --overwrite ",
"package:linux": "npm run build && cross-var electron-packager dist/angulectron $npm_package_name-$npm_package_version --out=packages --platform=linux --arch=all --overwrite ",
"package:osx": "npm run build && cross-var electron-packager dist/angulectron $npm_package_name-$npm_package_version --out=packages --platform=darwin --arch=all --overwrite ",
"package:all": "npm run build && cross-var electron-packager dist/angulectron $npm_package_name-$npm_package_version --out=packages --all --arch=all --overwrite ",
```

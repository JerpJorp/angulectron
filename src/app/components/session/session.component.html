<div class="field">
  <div class="list">
    <mat-card style="padding: 20px" appearance="outlined">

      <mat-card-title>Record Audio</mat-card-title>
      <mat-card-content>
        <div class="list">
          <mat-list role="list">
            <mat-list-item>
              <button
              [disabled]="recordingState() === 'start'"
                class="list-child"
                mat-button
                (click)="startRecording()"
              >
                Start
              </button>
            </mat-list-item>
            <mat-list-item>
              <button
                [disabled]="recordingState() !== 'start'"
                class="list-child"
                mat-button
                (click)="stopRecording()"
              >
                Stop
              </button>
            </mat-list-item>
            <mat-list-item>
              <button
                [disabled]="recordingState() !== 'start'"
                class="list-child"
                mat-button
                (click)="cancelRecording()"
              >
                Cancel
              </button>
            </mat-list-item>
          </mat-list>
        </div>
      </mat-card-content>

      <mat-card-title>Record & transcribe</mat-card-title>
      <mat-card-content>
        <div class="list">
          <mat-list role="list">
            <mat-list-item>
              <button
                [disabled]="recordingState() === 'start'"
                class="list-child"
                mat-button
                (click)="startBoth()">
                Start
              </button>
            </mat-list-item>
            <mat-list-item>
              <button
                [disabled]="recordingState() !== 'start'"
                class="list-child"
                mat-button
                (click)="stopBoth()"
              >
                Stop
              </button>
            </mat-list-item>
            <mat-list-item>
              <button
                [disabled]="recordingState() !== 'start'"
                class="list-child"
                mat-button
                (click)="cancelBoth()"
              >
                Cancel
              </button>
            </mat-list-item>
          </mat-list>
        </div>
      </mat-card-content>

      <mat-card-title>Transcribe only</mat-card-title>
      <mat-card-content>
        <div class="list">
          <mat-list role="list">
            <mat-list-item>
              <button class="list-child" mat-button (click)="startSreaming()">
                Start
              </button>
            </mat-list-item>
            <mat-list-item>
              <button class="list-child" mat-button (click)="stopStreaming()">
                Stop
              </button>
            </mat-list-item>
          </mat-list>
        </div>
      </mat-card-content>

    </mat-card>
  </div>
  <div class="content">
    <ng-container *ngIf="transcriptInstance() !== undefined">
      <app-instance
        class="w-95"
        [instance]="transcriptInstance()!"
        [pending]="inSession()"
        [forceDirty]="!inSession() && transcriptInstance() !== undefined"
        (delete)="transcriptInstance.set(undefined)"
    ></app-instance>
    </ng-container>
    <ng-container *ngIf="transcript().length > 0">
      <markdown [data]="transcript()" ngPreserveWhitespaces></markdown>
    </ng-container>
  </div>
</div>
